<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Birthday ‚Äì For Ch·ªã Nh∆∞</title>
  <style>
    :root {
      --glass-bg: rgba(6, 8, 24, 0.82);
      --glass-border: rgba(255, 255, 255, 0.18);
      --accent: #ff6b8b;
      --accent-2: #ffc46b;
      --text-main: #fdfbff;
      --text-soft: #f1eef8;
      --error: #ff4b4b;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Helvetica Neue", Arial, sans-serif;
      min-height: 100vh;
      color: var(--text-main);
      background: radial-gradient(circle at 0% 0%, #ff9a9e 0%, #fad0c4 30%, #fcbad3 55%, #1e3c72 100%);
      overflow: hidden;
    }

    /* N·ªÅn glass iOS-style, gradient h·ªìng */
    .app-bg {
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.2), transparent 55%),
        radial-gradient(circle at 80% 10%, rgba(255, 209, 255, 0.25), transparent 55%),
        radial-gradient(circle at 20% 80%, rgba(255, 214, 165, 0.25), transparent 55%),
        radial-gradient(circle at 80% 80%, rgba(214, 126, 255, 0.25), transparent 55%);
      filter: blur(7px);
      z-index: -2;
      animation: bgFloat 18s infinite alternate ease-in-out,
                 hueShift 22s infinite linear;
    }

    @keyframes bgFloat {
      0% { transform: translate3d(0, 0, 0) scale(1); }
      50% { transform: translate3d(0, -10px, 0) scale(1.03); }
      100% { transform: translate3d(0, 10px, 0) scale(1.01); }
    }

    @keyframes hueShift {
      0% { filter: blur(7px) hue-rotate(0deg); }
      50% { filter: blur(8px) hue-rotate(18deg); }
      100% { filter: blur(7px) hue-rotate(-10deg); }
    }

    .app {
      position: relative;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 16px;
    }

    .glass-panel {
      background: var(--glass-bg);
      border-radius: 24px;
      border: 1px solid var(--glass-border);
      box-shadow:
        0 18px 40px rgba(0, 0, 0, 0.5),
        0 0 0 1px rgba(255, 255, 255, 0.02);
      backdrop-filter: blur(26px) saturate(1.45);
      -webkit-backdrop-filter: blur(26px) saturate(1.45);
    }

    .screen {
      position: relative;
      width: 100%;
      max-width: 420px;
      min-height: 520px;
      padding: 24px 20px 64px;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: stretch;
      text-align: center;
      animation: screenIn 0.7s ease-out forwards;
      overflow: hidden;
    }

    .screen.active {
      display: flex;
    }

    @keyframes screenIn {
      from {
        opacity: 0;
        transform: translateY(26px) scale(0.97);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    h1, h2, h3 {
      font-weight: 700;
      letter-spacing: 0.03em;
    }

    h1 {
      font-size: 1.7rem;
      margin-bottom: 16px;
    }

    p {
      font-size: 0.96rem;
      line-height: 1.55;
      color: var(--text-soft);
    }

    input, button {
      font-family: inherit;
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 12px 22px;
      font-size: 0.95rem;
      cursor: pointer;
      font-weight: 600;
      background: linear-gradient(135deg, #ff7a9e, #ffc3a0);
      color: #171215;
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.35);
      transition: transform 0.16s ease, box-shadow 0.16s ease, filter 0.16s ease;
    }

    .btn[disabled] {
      opacity: 0.55;
      cursor: default;
      box-shadow: none;
    }

    .btn:hover:not([disabled]) {
      transform: translateY(-1px) scale(1.02);
      box-shadow: 0 12px 28px rgba(0, 0, 0, 0.4);
      filter: brightness(1.05);
    }

    .btn:active:not([disabled]) {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.36);
      filter: brightness(0.96);
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.06);
      color: var(--text-main);
      border: 1px solid rgba(255, 255, 255, 0.25);
      box-shadow: none;
    }

    .btn-secondary:hover:not([disabled]) {
      filter: brightness(1.1);
      box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.22);
    }

    .field-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 18px;
      margin-bottom: 8px;
    }

    label {
      font-size: 0.8rem;
      text-align: left;
      color: rgba(245, 243, 255, 0.9);
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }

    .input-shell {
      position: relative;
      border-radius: 999px;
      background: rgba(9, 12, 35, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.16);
      padding: 2px 14px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .input-shell input {
      flex: 1;
      border: none;
      outline: none;
      background: transparent;
      padding: 8px 0;
      color: var(--text-main);
      font-size: 0.95rem;
    }

    .input-shell input::placeholder {
      color: rgba(230, 225, 255, 0.45);
    }

    .input-shell span.prefix {
      font-size: 0.86rem;
      color: rgba(234, 231, 255, 0.7);
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      background: rgba(6, 10, 29, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.18);
      margin-bottom: 12px;
      color: rgba(243, 240, 255, 0.85);
    }

    .tag-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 12px rgba(255, 107, 139, 0.9);
    }

    .error {
      margin-top: 6px;
      font-size: 0.8rem;
      color: var(--error);
      min-height: 16px;
    }

    .hint {
      font-size: 0.76rem;
      color: rgba(235, 230, 255, 0.7);
      margin-top: 6px;
    }

    /* Avatar */
    .login-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      margin: 0 auto 12px;
      background: radial-gradient(circle at 0% 0%, #ffecd2, #fcb6d1);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      box-shadow:
        0 10px 26px rgba(0, 0, 0, 0.55),
        0 0 0 1px rgba(255, 255, 255, 0.25);
    }

    .login-avatar-inner {
      width: 88%;
      height: 88%;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 0%, #ffffff, #262438);
      display: flex;
      align-items: center;
      justify-content: center;
      color: rgba(255, 255, 255, 0.94);
      font-weight: 700;
      font-size: 1.4rem;
      text-shadow: 0 3px 10px rgba(0, 0, 0, 0.7);
      overflow: hidden;
    }

    .login-avatar-inner img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .happy-title {
      font-size: 1.9rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      margin-bottom: 18px;
      white-space: normal;
      text-align: center;
      animation: happyGlow 1.6s ease-in-out forwards;
    }

    @keyframes happyGlow {
      0% {
        opacity: 0;
        filter: blur(4px);
        transform: translateY(10px);
      }
      50% {
        opacity: 1;
        filter: blur(0);
        text-shadow:
          0 0 6px rgba(255, 255, 255, 0.9),
          0 0 18px rgba(255, 126, 178, 0.9),
          0 0 32px rgba(255, 210, 120, 0.9);
      }
      100% {
        opacity: 1;
        filter: blur(0);
        text-shadow:
          0 0 4px rgba(255, 255, 255, 0.8),
          0 0 16px rgba(255, 126, 178, 0.7);
      }
    }

    .typing {
      min-height: 80px;
      font-size: 0.98rem;
      margin-bottom: 20px;
      text-align: left;
      color: var(--text-soft);
    }

    .typing span.caret {
      display: inline-block;
      width: 8px;
      height: 1.1em;
      background: var(--accent-2);
      margin-left: 2px;
      animation: caretBlink 0.7s infinite;
      vertical-align: bottom;
    }

    @keyframes caretBlink {
      0%, 40% { opacity: 1; }
      60%, 100% { opacity: 0; }
    }

    /* Warp */
    .warp {
      animation: warpSpace 4s ease-in-out forwards;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      gap: 14px;
    }

    @keyframes warpSpace {
      0% {
        transform: scale(1) rotate(0deg);
        filter: blur(0);
      }
      40% {
        transform: scale(1.06) rotate(1.2deg);
        filter: blur(1px);
      }
      70% {
        transform: scale(0.96) rotate(-1.5deg);
        filter: blur(2px);
      }
      100% {
        transform: scale(1) rotate(0deg);
        filter: blur(0);
      }
    }

    .warp-orbit {
      width: 130px;
      height: 130px;
      border-radius: 50%;
      border: 1px dashed rgba(255, 255, 255, 0.35);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .warp-orbit::before,
    .warp-orbit::after {
      content: "";
      position: absolute;
      inset: -40%;
      background: conic-gradient(from 120deg, rgba(255, 255, 255, 0.8), transparent, rgba(255, 255, 255, 0.9));
      mix-blend-mode: screen;
      animation: orbitSpin 3s linear infinite;
    }

    .warp-orbit::after {
      animation-direction: reverse;
      opacity: 0.45;
    }

    @keyframes orbitSpin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .warp-dot {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      background: radial-gradient(circle, #ffffff, #ff99ac);
      box-shadow: 0 0 24px rgba(255, 177, 193, 0.9);
    }

    .blessing-line {
      opacity: 0;
      transform: translateY(14px);
      transition: opacity 0.7s ease-out, transform 0.7s ease-out;
      margin-bottom: 8px;
      text-align: left;
      font-size: 0.95rem;
    }

    .blessing-line.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .final-big {
      font-size: 1.3rem;
      font-weight: 800;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      text-align: center;
      margin-bottom: 16px;
      text-shadow:
        0 0 8px rgba(0, 0, 0, 0.9),
        0 0 18px rgba(255, 199, 148, 0.9);
      animation: happyGlow 1.6s ease-in-out forwards;
    }

    /* STORY CARDS (trang 5) */
    .story-container {
      margin-top: 16px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      max-height: 280px;
      overflow-y: auto;
      padding-right: 6px;
    }

    .story-card {
      position: relative;
      border-radius: 16px;
      padding: 12px 12px 12px 14px;
      background: radial-gradient(circle at 0% 0%, rgba(255, 255, 255, 0.08), rgba(8, 9, 28, 0.9));
      border: 1px solid rgba(255, 255, 255, 0.16);
      box-shadow: 0 10px 26px rgba(0, 0, 0, 0.5);
      text-align: left;
      font-size: 0.94rem;
      color: #f9f7ff;
      opacity: 0;
      transform: translateY(10px) scale(0.98);
    }

    .story-card::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: repeating-linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.08),
        rgba(255, 255, 255, 0.08) 1px,
        transparent 1px,
        transparent 3px
      );
      mix-blend-mode: soft-light;
      opacity: 0.4;
      pointer-events: none;
    }

    .story-card.active {
      animation: storyIn 0.6s ease-out forwards;
    }

    @keyframes storyIn {
      from {
        opacity: 0;
        transform: translateY(10px) scale(0.98);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .story-card p {
      position: relative;
      z-index: 1;
    }

    .story-card .caret {
      width: 7px;
      height: 1em;
      background: var(--accent-2);
      display: inline-block;
      margin-left: 2px;
      animation: caretBlink 0.7s infinite;
      vertical-align: bottom;
    }

    /* FINAL PHOTO */
    .photo-stage {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
    }

    #final-photo {
      position: relative;
      width: 100%;
      max-width: 320px;
      aspect-ratio: 4 / 3;
      border-radius: 22px;
      overflow: hidden;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }

    .photo-piece {
      position: absolute;
      background-size: 400% 400%;
      background-repeat: no-repeat;
      opacity: 0;
      transform-origin: center;
    }

    .photo-piece.shatter {
      transform:
        translate(
          calc((var(--dx, 0) - 0.5) * 280px),
          calc((var(--dy, 0) - 0.5) * 220px)
        )
        scale(0.2)
        rotate(calc((var(--rot, 0) - 0.5) * 120deg));
      opacity: 0;
    }

    .photo-piece.assemble {
      transition: transform 1.4s cubic-bezier(0.16, 0.9, 0.18, 1.0),
                  opacity 1.4s ease-out;
      transform: translate(0, 0) scale(1) rotate(0deg);
      opacity: 1;
    }

    /* FINAL TEXT ANIMATION */
    .firework-text {
      font-size: 0.94rem;
      text-align: left;
      line-height: 1.6;
      color: #fbf8ff;
      margin-top: 4px;
    }

    .final-line {
      opacity: 0;
      transform: translateY(10px);
      filter: blur(3px);
    }

    .final-line.visible {
      animation: finalLineIn 0.75s ease-out forwards;
    }

    @keyframes finalLineIn {
      0% {
        opacity: 0;
        transform: translateY(10px);
        filter: blur(3px);
        text-shadow: none;
      }
      60% {
        opacity: 1;
        transform: translateY(0);
        filter: blur(0);
        text-shadow:
          0 0 8px rgba(255, 255, 255, 0.9),
          0 0 16px rgba(255, 193, 148, 0.9);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
        filter: blur(0);
        text-shadow:
          0 0 5px rgba(255, 255, 255, 0.85),
          0 0 12px rgba(255, 193, 148, 0.8);
      }
    }

    .signature {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      padding: 6px 14px;
      border-radius: 999px;
      font-size: 0.7rem;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(6, 8, 24, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.18);
      color: rgba(245, 242, 255, 0.9);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      z-index: 10;
    }

    .signature img {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      object-fit: cover;
      border: 1px solid rgba(255, 255, 255, 0.7);
    }

    .signature span.label {
      text-transform: uppercase;
      letter-spacing: 0.16em;
      opacity: 0.88;
    }

    .mt-16 { margin-top: 16px; }
    .mt-20 { margin-top: 20px; }
    .mt-auto { margin-top: auto; }

    /* VIDEO SCREEN DIM */
    #screen-video.dim::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at center, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.8) 60%);
      pointer-events: none;
      transition: opacity 0.6s ease-out;
    }

    .video-wrapper {
      position: relative;
      border-radius: 20px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.22);
      background: rgba(0, 0, 0, 0.75);
      box-shadow: 0 14px 34px rgba(0,0,0,0.6);
    }

    .video-wrapper video {
      width: 100%;
      display: block;
    }

    .video-controls {
      display: flex;
      gap: 10px;
      margin-top: 18px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    }

    .video-note {
      margin-top: 10px;
      font-size: 0.8rem;
      color: rgba(240,240,255,0.8);
    }

    @media (max-width: 400px) {
      .screen {
        padding: 18px 14px 60px;
        min-height: 520px;
      }
      #final-photo {
        max-width: 290px;
      }
    }
  </style>
</head>
<body>
  <div class="app-bg"></div>
  <main class="app">
    <!-- SCREEN 1: LOGIN -->
    <section id="screen-login" class="screen glass-panel active">
      <div class="tag">
        <span class="tag-dot"></span>
        <span>macOS ‚Ä¢ birthday session</span>
      </div>
      <div class="login-avatar">
        <div class="login-avatar-inner" id="avatar-inner">
          HN
        </div>
      </div>
      <h1>WELCOME ! <br> TR·ªäNH TH·ªä H·ªíNG NH∆Ø <br> </h1>
      <p>
       <strong>ƒêƒÉng nh·∫≠p m·ªôt l·∫ßn truy c·∫≠p t·∫•t c·∫£ :D</strong>.
      </p>

      <form id="login-form" autocomplete="off">
        <div class="field-group">
          <label for="login-email">Apple ID</label>
          <div class="input-shell">
            <span class="prefix">@</span>
            <input id="login-email" type="text" value="Nh∆∞HENTAI@***.com" disabled />
          </div>
        </div>

        <div class="field-group">
          <label for="login-password">M·∫≠t kh·∫©u</label>
          <div class="input-shell">
            <span class="prefix">‚Ä¢‚Ä¢‚Ä¢</span>
            <input
              id="login-password"
              type="password"
              placeholder="Nh·∫≠p m·∫≠t kh·∫©u 4 s·ªë c·ª±c k·ª≥ quan tr·ªçng üëÄ"
            />
          </div>
        </div>

        <div id="login-error" class="error"></div>

        <button type="submit" class="btn mt-16">ƒêƒÉng nh·∫≠p</button>
        <p class="hint">
          G·ª£i √Ω nh·ªè x√≠u: m·∫≠t kh·∫©u l√† <strong>2025</strong> ‚ú®
        </p>
      </form>
    </section>

    <!-- SCREEN 2: VIDEO GATE -->
    <section id="screen-video" class="screen glass-panel">
      <div class="tag">
        <span class="tag-dot"></span>
        <span>birthday ‚Ä¢ intro video</span>
      </div>
      <h2 style="margin-bottom: 14px;">M·ªôt ƒëo·∫°n video nh·ªè d√†nh cho ch·ªã ‚ú®</h2>
      <p style="margin-bottom: 18px;">
        H√£y xem h·∫øt chi·∫øc video n√†y ƒë·ªÉ ‚Äúnh·∫≠p m√¥n‚Äù v√†o trang k·∫ø ti·∫øp. Sau khi video k·∫øt th√∫c, c√°nh c·ª≠a ti·∫øp theo s·∫Ω t·ª± m·ªü ra cho ch·ªã.
      </p>

      <div class="video-wrapper">
        <video id="intro-video" controls playsinline></video>
      </div>

      <div class="video-controls">
        <button id="btn-video-continue" class="btn" disabled>ƒê√£ xem xongggg üé¨</button>
      </div>

      <p class="video-note" id="video-hint">
        Trong l√∫c video ch·∫°y, ƒë·ª´ng out nh√© !.
      </p>
    </section>

    <!-- AUDIO BGM -->
    <audio id="bgm" loop></audio>

    <!-- SCREEN 3: GREETING -->
    <section id="screen-greeting" class="screen glass-panel">
      <div class="tag">
        <span class="tag-dot"></span>
        <span>spotlight ‚Ä¢ ch·ªã Nh∆∞ c·ªßa em</span>
      </div>

      <div class="happy-title mt-16">
        Ch·ªã Nh∆∞ C·ªßa Emmm
      </div>

      <div id="greeting-text" class="typing"></div>

      <button id="btn-to-warp" class="btn mt-16">Ti·∫øp t·ª•c h√†nh tr√¨nh üåå</button>
    </section>

    <!-- SCREEN 4: WARP / SPACE TRANSITION -->
    <section id="screen-warp" class="screen glass-panel">
      <div class="warp">
        <div class="warp-orbit">
          <div class="warp-dot"></div>
        </div>
        <h2>ƒêang xoay chuy·ªÉn c·∫£ kh√¥ng gian &amp; v≈© tr·ª•‚Ä¶</h2>
        <p>
          Gi·ªØ ch·∫∑t seatbelt nha, s·∫Øp t·ªõi ph·∫ßn ‚Äút√¢m th∆∞‚Äù nho nh·ªè m√† th·∫±ng em trai h∆°i v·ª•ng v·ªÅ n√†y mu·ªën g·ª≠i ch·ªã.
        </p>
      </div>
    </section>

    <!-- SCREEN 5: LONG STORY (CARDS + TYPING) -->
    <section id="screen-story" class="screen glass-panel">
      <div class="tag">
        <span class="tag-dot"></span>
        <span>memory ‚Ä¢ little story</span>
      </div>
      <h2 class="mt-16">Nh·ªØng d√≤ng mu·ªën n√≥i v·ªõi ch·ªã‚Ä¶</h2>
      <div id="story-text" class="story-container"></div>

      <button id="btn-to-blessing" class="btn mt-20">
        ƒê·ªçc xong r·ªìi, cho em b·∫•t ng·ªù ti·∫øp theo üéÅ
      </button>
    </section>

    <!-- SCREEN 6: BIG TITLE + BLESSING -->
    <section id="screen-blessing" class="screen glass-panel">
      <div class="final-big">
        CH√öC M·ª™NG SINH NH·∫¨T - CH·ªä HAI HENTAI C·ª¶A EM
      </div>
      <h2>Nh·∫Øn g·ª≠i nh·ªè cho tu·ªïi m·ªõi ‚ú®</h2>
      <div class="mt-16" id="blessing-container">
        <p class="blessing-line">
          Tu·ªïi m·ªõi ƒë·∫øn r·ªìi, ch√∫c ch·ªã lu√¥n v·ªØng v√†ng, m·∫°nh m·∫Ω v√† bi·∫øn m·ªçi ∆∞·ªõc m∆° c·ªßa m√¨nh th√†nh s·ª± th·∫≠t.
        </p>
        <p class="blessing-line">
          H√£y s·ªëng m·ªôt ƒë·ªùi th·∫≠t nhi·ªát huy·∫øt, th·∫≠t r·ª±c r·ª° v√† h·∫°nh ph√∫c theo c√°ch c·ªßa ri√™ng ch·ªã.
        </p>
        <p class="blessing-line">
          D√π th·∫ø gi·ªõi ngo√†i kia c√≥ ·ªìn √†o ƒë·∫øn ƒë√¢u, nh·ªõ r·∫±ng ch·ªã lu√¥n x·ª©ng ƒë√°ng ƒë∆∞·ª£c y√™u th∆∞∆°ng v√† tr√¢n tr·ªçng.
        </p>
        <p class="blessing-line">
          T·ªèa s√°ng theo c√°ch c·ªßa ch·ªã nha ‚ú® ‡¥¶‡µç‡¥¶‡¥ø(‚Ä¢Àï‚Ä¢„Éû) Em lu√¥n ·ªßng h·ªô ch·ªã!
        </p>
      </div>

      <button id="btn-to-final-photo" class="btn-secondary mt-auto">
        M·∫£nh gh√©p cu·ªëi c√πng c·ªßa v≈© tr·ª• n√†y üì∏
      </button>
    </section>

    <!-- SCREEN 7: FINAL PHOTO + FIREWORK TEXT -->
    <section id="screen-final-photo" class="screen glass-panel">
      <div class="photo-stage">
        <div id="final-photo"></div>
        <div class="firework-text" id="final-text"></div>
      </div>
    </section>
  </main>

  <div class="signature glass-panel">
    <span class="label">Created by Shota</span>
    <img id="signature-logo" src="" alt="Logo Shota" />
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const NAME = "Tr·ªãnh Th·ªã H·ªìng Nh∆∞";

      // # ƒêi·ªÅn link ·∫£nh AVATAR (tr√≤n ƒë·∫ßu trang) ·ªü ƒë√¢y
      const AVATAR_URL = "logo1.png"; // v√≠ d·ª•: "avatar.jpg"

      // # ƒêi·ªÅn link ·∫£nh LOGO c·ªßa b·∫°n ·ªü ƒë√¢y
      const LOGO_URL = "shota.png#"; // v√≠ d·ª•: "logo.png"

      // # ƒêi·ªÅn link ·∫£nh B·ª®C ·∫¢NH CU·ªêI C√ôNG ·ªü ƒë√¢y
      const FINAL_PHOTO_URL = "anh.png"; // v√≠ d·ª•: "final-photo.jpg"

      // # ƒêi·ªÅn link VIDEO SINH NH·∫¨T ·ªü ƒë√¢y
      const INTRO_VIDEO_URL = "video.mp4"; // v√≠ d·ª•: "video.mp4"

      // # ƒêi·ªÅn link NH·∫†C N·ªÄN (BGM) ·ªü ƒë√¢y
      const BGM_URL = "music.mp3"; // v√≠ d·ª•: "music.mp3"

      const screens = document.querySelectorAll(".screen");
      const showScreen = (id) => {
        screens.forEach((s) => s.classList.toggle("active", s.id === id));
      };

      // Set logo n·∫øu c√≥
      const logoImg = document.getElementById("signature-logo");
      if (LOGO_URL && LOGO_URL !== "#" && logoImg) {
        logoImg.src = LOGO_URL;
      }

      // Set avatar n·∫øu c√≥
      const avatarInner = document.getElementById("avatar-inner");
      if (AVATAR_URL && AVATAR_URL !== "#" && avatarInner) {
        avatarInner.textContent = "";
        const img = document.createElement("img");
        img.src = AVATAR_URL;
        avatarInner.appendChild(img);
      }

      /* LOGIN LOGIC */
      const loginForm = document.getElementById("login-form");
      const passwordInput = document.getElementById("login-password");
      const loginError = document.getElementById("login-error");

      loginForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const pwd = passwordInput.value.trim();
        if (pwd === "2025") {
          loginError.textContent = "";
          startVideoScreen();
          showScreen("screen-video");
        } else {
          loginError.textContent = "Sai r·ªìi nh√©, th·ª≠ l·∫°i xem (‚ï•·Ü∫‚ï•Ôºõ)!";
        }
      });

      /* VIDEO SCREEN */
      const videoScreen = document.getElementById("screen-video");
      const introVideo = document.getElementById("intro-video");
      const btnVideoContinue = document.getElementById("btn-video-continue");
      const bgm = document.getElementById("bgm");

      let hasWatchedVideo = false;
      let lastTime = 0;

      function startVideoScreen() {
        if (INTRO_VIDEO_URL && INTRO_VIDEO_URL !== "#") {
          introVideo.src = INTRO_VIDEO_URL;
        } else {
          introVideo.removeAttribute("src");
        }

        hasWatchedVideo = false;
        btnVideoContinue.disabled = true;
        lastTime = 0;

        introVideo.addEventListener("timeupdate", () => {
          lastTime = introVideo.currentTime;
        });

        // Ch·∫∑n tua t·ªõi khi ch∆∞a xem xong
        introVideo.addEventListener("seeking", () => {
          if (!hasWatchedVideo && introVideo.currentTime > lastTime + 0.5) {
            introVideo.currentTime = lastTime;
          }
        });

        introVideo.addEventListener("play", () => {
          videoScreen.classList.add("dim");
        });

        introVideo.addEventListener("pause", () => {
          if (!introVideo.ended) {
            videoScreen.classList.remove("dim");
          }
        });

        introVideo.addEventListener("ended", () => {
          videoScreen.classList.remove("dim");
          hasWatchedVideo = true;
          btnVideoContinue.disabled = false;
        });
      }

      function startBgm() {
        if (BGM_URL && BGM_URL !== "#") {
          bgm.src = BGM_URL;
          bgm.volume = 0.9;
          bgm.play().catch(() => {});
        }
      }

      function goToGreeting() {
        startBgm();
        showScreen("screen-greeting");
        startGreeting();
      }

      btnVideoContinue.addEventListener("click", () => {
        if (!hasWatchedVideo) return;
        goToGreeting();
      });

      /* TYPEWRITER HELPER */
      function typeText(element, text, speed, callback) {
        element.innerHTML = "";
        let i = 0;
        const spanCaret = document.createElement("span");
        spanCaret.className = "caret";
        const interval = setInterval(() => {
          element.textContent = text.slice(0, i);
          element.appendChild(spanCaret);
          i++;
          if (i > text.length) {
            clearInterval(interval);
            if (callback) callback();
          }
        }, speed);
      }

      /* GREETING */
      const greetingTextEl = document.getElementById("greeting-text");
      const btnToWarp = document.getElementById("btn-to-warp");

      const greetingText =
        "‡¥¶‡µç‡¥¶‡¥ø ÀâÕàÃÄÍí≥ÀâÕàÃÅ )‚úß Xin ch√†o ng∆∞·ªùi con g√°i tuy·ªát v·ªùi Today, " +
        "h√¥m nay l√† Spotlight c·ªßa ch·ªãiii, h√£y c√πng nhau kh√°m ph√° b√™n trong trang web c·ªßa th·∫±ng em trai n√†y " +
        "c√≥ g√¨ m√† mu·ªën g·ª≠i t·∫∑ng ch·ªã nh√© !";

      function startGreeting() {
        typeText(greetingTextEl, greetingText, 30, () => {});
      }

      btnToWarp.addEventListener("click", () => {
        showScreen("screen-warp");
        setTimeout(() => {
          showScreen("screen-story");
          startStory();
        }, 3500);
      });

      /* STORY ‚Äì chia th√†nh nhi·ªÅu card + typing t·ª´ng card */
      const storyContainer = document.getElementById("story-text");
      const btnToBlessing = document.getElementById("btn-to-blessing");

      const storyParagraphs = [
        "Ch√∫ng ta ƒë√£ ƒë·ªìng h√†nh v·ªõi nhau t·ª´ thu·ªü b√© cho ƒë·∫øn khi tr∆∞·ªüng th√†nh h∆°n r·ªìi nh·ªâ.",
        "ƒê√¥i l√∫c c≈©ng c√≥ nh·ªØng chuy·ªán b·∫•t ng·ªù khi·∫øn hai ch·ªã em xung ƒë·ªôt, r·ªìi im l·∫∑ng v·ªõi nhau. Nh∆∞ng cu·ªëi c√πng, d√π c√≥ th·∫ø n√†o th√¨ c≈©ng s·∫Ω ƒë·∫øn l√∫c ph·∫£i ho√† gi·∫£i.",
        "Th·∫ø l√† m√¨nh l·∫°i l√†m l√†nh, l·∫°i gom th√™m nh·ªØng k·ªâ ni·ªám v·ª´a vui l·∫°i v·ª´a bu·ªìn v√†o h√†nh tr√¨nh l·ªõn l√™n c√πng nhau.",
        "Tu·ªïi th∆° c·ªßa hai ch·ªã em m√¨nh ƒë√∫ng l√† ƒëan xen gi·ªØa nh·ªØng c√¢u chuy·ªán ng√¢y ng√¥ v√† c·∫£ nh·ªØng chuy·ªán √©o le n·ªØa.",
        "H√¨‚Ä¶ th·∫±ng em trai h∆°i v·ª•ng v·ªÅ n√†y v·∫´n nh·ªõ h√¥m nay l√† sinh nh·∫≠t c·ªßa ch·ªã ƒë√≥. Ch√∫c ch·ªã m·ªôt ng√†y Sinh Nh·∫≠t th·∫≠t vui v·∫ª. D√π kh√¥ng th·ªÉ c√≥ m·∫∑t ·ªü ƒë√≥, ch·ªã ƒë·ª´ng bu·ªìn nha.",
        "Em c≈©ng ƒë√£ tranh th·ªß t·ª± tay vi·∫øt m·ªôt ch√∫t ‚Äúcode‚Äù l√†m m√≥n qu√† nho nh·ªè g·ª≠i t·∫∑ng ch·ªã r·ªìi. Ch√∫c ch·ªã b∆∞·ªõc sang tu·ªïi m·ªõi th·∫≠t r·∫°ng r·ª°, th·∫≠t may m·∫Øn v√† ƒë·∫°t ƒë∆∞·ª£c nhi·ªÅu th√†nh c√¥ng trong cu·ªôc s·ªëng."
      ];

      function typeParagraphInCard(card, text, speed, done) {
        const p = card.querySelector("p");
        const caret = document.createElement("span");
        caret.className = "caret";
        card.classList.add("active");
        let i = 0;

        const interval = setInterval(() => {
          p.textContent = text.slice(0, i);
          p.appendChild(caret);
          i++;
          if (i > text.length) {
            clearInterval(interval);
            caret.remove();
            if (done) done();
          }
        }, speed);
      }

      function startStory() {
        storyContainer.innerHTML = "";
        let index = 0;

        function showNextCard() {
          if (index >= storyParagraphs.length) return;

          const card = document.createElement("div");
          card.className = "story-card";
          const p = document.createElement("p");
          card.appendChild(p);
          storyContainer.appendChild(card);

          typeParagraphInCard(card, storyParagraphs[index], 20, () => {
            index++;
            setTimeout(showNextCard, 250);
          });
        }

        showNextCard();
      }

      btnToBlessing.addEventListener("click", () => {
        showScreen("screen-blessing");
        playBlessings();
      });

      /* BLESSING TEXT */
      const blessingContainer = document.getElementById("blessing-container");
      const blessingLines = Array.from(
        blessingContainer.querySelectorAll(".blessing-line")
      );
      const btnToFinalPhoto = document.getElementById("btn-to-final-photo");

      function playBlessings() {
        blessingLines.forEach((line) => {
          line.classList.remove("visible");
        });

        blessingLines.forEach((line, i) => {
          setTimeout(() => {
            line.classList.add("visible");
          }, i * 900);
        });
      }

      btnToFinalPhoto.addEventListener("click", () => {
        setupFinalPhoto();
        showScreen("screen-final-photo");
        triggerPhotoAssemble();
        playFinalText();
      });

      /* FINAL PHOTO */
      const finalPhotoContainer = document.getElementById("final-photo");

      function setupFinalPhoto() {
        finalPhotoContainer.innerHTML = "";
        const cols = 4;
        const rows = 4;

        for (let r = 0; r < rows; r++) {
          for (let c = 0; c < cols; c++) {
            const piece = document.createElement("div");
            piece.className = "photo-piece shatter";
            const wPercent = 100 / cols;
            const hPercent = 100 / rows;
            piece.style.width = wPercent + "%";
            piece.style.height = hPercent + "%";
            piece.style.left = c * wPercent + "%";
            piece.style.top = r * hPercent + "%";
            const bgX = (c / (cols - 1)) * 100;
            const bgY = (r / (rows - 1)) * 100;
            piece.style.backgroundImage = FINAL_PHOTO_URL && FINAL_PHOTO_URL !== "#"
              ? `url("${FINAL_PHOTO_URL}")`
              : "linear-gradient(135deg, #ff9a9e, #fad0c4)";
            piece.style.backgroundPosition = `${bgX}% ${bgY}%`;
            piece.style.setProperty("--dx", Math.random().toString());
            piece.style.setProperty("--dy", Math.random().toString());
            piece.style.setProperty("--rot", Math.random().toString());
            finalPhotoContainer.appendChild(piece);
          }
        }
      }

      function triggerPhotoAssemble() {
        const pieces = finalPhotoContainer.querySelectorAll(".photo-piece");
        pieces.forEach((piece, i) => {
          setTimeout(() => {
            piece.classList.add("assemble");
          }, 200 + i * 50);
        });
      }

      /* FINAL TEXT ANIMATION */
      const finalTextEl = document.getElementById("final-text");
      const finalLines = [
        'Big thanks v√¨ you ƒë√£ d√†nh ch√∫t "precious time" ƒë·ªÉ ƒë·ªçc nh·ªØng d√≤ng n√†y. Me th·ª±c s·ª± appreciate ƒëi·ªÅu ƒë√≥! (¬¥‚ñΩ` É‚ô°∆™)',
        "Ch·ªâ mong r·∫±ng, kh√¥ng ch·ªâ h√¥m nay m√† m·ªói ng√†y tr√¥i qua, cu·ªôc s·ªëng c·ªßa you ƒë·ªÅu ƒë∆∞·ª£c l·∫•p ƒë·∫ßy b·ªüi nh·ªØng happy vibes v√† nh·ªØng kho·∫£nh kh·∫Øc unforgettable.",
        "Happy Birthday! üéÇ Ch√∫c you m·ªôt tu·ªïi m·ªõi t√¢m th·∫≠t an, l√≤ng th·∫≠t vui v√† lu√¥n tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng ƒë·ªÉ conquer m·ªçi th·ª≠ th√°ch ph√≠a tr∆∞·ªõc nh√©.",
        "Always by your side! ‚ú®"
      ];

      function playFinalText() {
        finalTextEl.innerHTML = "";
        const created = finalLines.map((line) => {
          const p = document.createElement("p");
          p.className = "final-line";
          p.textContent = line;
          finalTextEl.appendChild(p);
          return p;
        });

        created.forEach((line, i) => {
          setTimeout(() => {
            line.classList.add("visible");
          }, 400 + i * 900);
        });
      }

      // Start greeting text on load of greeting screen via goToGreeting()
      // (ƒë√£ khai b√°o b√™n tr√™n)
    });
  </script>
</body>
</html>